(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a(39)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(5),i=a.n(c),r=(a(26),a(18)),l=a(8),o=a(10),d=a(4),u=a(14),m=a(15),h=a(2),g=a(20),f=a(17);a(27);function p(e){var t=e.data,a=t.name,n=t.score,c=t.id;return s.a.createElement("div",null,s.a.createElement("input",{className:"component-grade-input text",name:"name",placeholder:"Name",type:"text",value:a,onChange:function(t){return e.handleChange(t,e.sectionID,c)}}),s.a.createElement("input",{className:"component-grade-input num",name:"score",placeholder:"Grade",type:"number",value:n,onChange:function(t){return e.handleChange(t,e.sectionID,c)}}),s.a.createElement("button",{className:"component-delete-grade-btn",onClick:function(){return e.deleteGrade(e.sectionID,c)}},"Delete"))}a(28);function b(e){var t=e.data,a=t.id,n=t.gradeList;return s.a.createElement("div",{className:"component-grade-list"},n.map((function(t){return s.a.createElement(p,{data:t,sectionID:a,deleteGrade:e.deleteGrade,handleChange:e.handleChange,key:t.id})})))}a(29);var v=a(3);function C(e){var t=e.data,a=t.id,n=t.sectionName,c=t.sectionWeight,i=t.sectionGrade,r=["red","yellow","green","blue","purple"][a%5];return s.a.createElement(v.b,{draggableId:a.toString(),index:e.index},(function(t){return s.a.createElement("div",Object.assign({className:"component-section-container "+r},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),s.a.createElement("button",{className:"component-add-grade-btn",onClick:function(){return e.addGrade(a)}},"Add Grade"),s.a.createElement("button",{className:"component-delete-section-btn",onClick:function(){return e.deleteSection(a)}},"X"),s.a.createElement("input",{className:"component-section-input",name:"sectionName",placeholder:"Section Name",type:"text",value:n,onChange:function(t){return e.handleChange(t,a)}}),s.a.createElement("input",{className:"component-section-input num",name:"sectionWeight",placeholder:"Weight",type:"number",value:c,onChange:function(t){return e.handleChange(t,a)}}),s.a.createElement("span",{className:"component-section-grade"},i.toFixed(2)),s.a.createElement(b,{data:e.data,deleteGrade:e.deleteGrade,handleChange:e.handleChange}))}))}a(35);function L(e){var t=e.data,a=t.id,n=t.name,c=t.classGrade,i=t.sectionList;return s.a.createElement("div",{className:"component-class-container"},s.a.createElement("div",{className:"component-class-content-container"},s.a.createElement("input",{className:"component-class-name",name:"className",placeholder:"Class Name",type:"text",value:n,onChange:function(t){return e.handleChange(t,a)}}),s.a.createElement("span",{className:"component-class-grade"},"Class Grade: ",c.toFixed(2)),s.a.createElement("br",null)," ",s.a.createElement("br",null),s.a.createElement("button",{className:"component-add-section-btn",onClick:e.addSection},"Add Section"),s.a.createElement(v.a,{onDragEnd:function(t){if(t.destination&&t.destination.index!==t.source.index){var n=e.reorder(i,t.source.index,t.destination.index);e.updateSectionList(a,n)}}},s.a.createElement(v.c,{droppableId:a.toString()},(function(t){return s.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps),i.map((function(t,a){return s.a.createElement(C,{key:t.id,data:t,deleteSection:e.deleteSection,addGrade:e.addGrade,deleteGrade:e.deleteGrade,handleChange:e.handleChange,index:a})})),t.placeholder)})))))}a(36);var E=a(19);function S(e){return s.a.createElement(v.b,{draggableId:e.id.toString(),index:e.index},(function(t){return s.a.createElement("div",Object.assign({className:e.className,onClick:function(t){return e.handleTabClick(t,e.id)}},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),s.a.createElement("span",{"data-tip":e.name+": "+e.grade},s.a.createElement("div",{className:"component-class-tab-name"},e.name),s.a.createElement("div",{className:"component-delete-class-btn",onClick:function(){return e.deleteClass(e.id)}},"X")),s.a.createElement(E.a,{effect:"solid"}))}))}a(37);var y=function(e){Object(g.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={classList:[],currClass:0,classKey:0},n.addClass=n.addClass.bind(Object(h.a)(n)),n.deleteClass=n.deleteClass.bind(Object(h.a)(n)),n.addSection=n.addSection.bind(Object(h.a)(n)),n.deleteSection=n.deleteSection.bind(Object(h.a)(n)),n.handleTabClick=n.handleTabClick.bind(Object(h.a)(n)),n.setActiveIndex=n.setActiveIndex.bind(Object(h.a)(n)),n.addGrade=n.addGrade.bind(Object(h.a)(n)),n.deleteGrade=n.deleteGrade.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.updateSectionList=n.updateSectionList.bind(Object(h.a)(n)),n.onDragEnd=n.onDragEnd.bind(Object(h.a)(n)),n.reorder=n.reorder.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("classList")),t=localStorage.getItem("currClass"),a=parseInt(localStorage.getItem("classKey"));null!==e?this.setState({classList:e,currClass:t,classKey:a}):this.addClass()}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.classList,a=e.currClass,n=e.classKey;localStorage.setItem("classList",JSON.stringify(t)),localStorage.setItem("currClass",a),localStorage.setItem("classKey",n)}},{key:"addClass",value:function(){this.setState((function(e){return{classList:[].concat(Object(d.a)(e.classList),[{id:e.classKey,name:"",sectionList:[],sectionKey:0,classGrade:100}]),currClass:e.classList.length,classKey:e.classKey+1}}))}},{key:"deleteClass",value:function(e){var t=this;this.setState((function(a){var n=a.classList,s=a.currClass,c=a.classList[a.currClass].id;return c===e?s=t.findNextClass(a.classList,a.currClass):c>e&&s--,{classList:n.filter((function(t){return t.id!==e})),currClass:s}}))}},{key:"addSection",value:function(){this.setState((function(e){var t=Object(d.a)(e.classList),a=t[e.currClass].sectionKey++;return t[e.currClass].sectionList.push({id:a,sectionName:"",sectionWeight:"",sectionGrade:100,gradeList:[],gradeKey:0}),{classList:t}}))}},{key:"deleteSection",value:function(e){this.setState((function(t){var a=Object(d.a)(t.classList);a[t.currClass].sectionList=a[t.currClass].sectionList.filter((function(t){return t.id!==e}));var n=0;return a[t.currClass].sectionList.forEach((function(e){return n+=e.sectionWeight*e.sectionGrade/100})),a[t.currClass].classGrade=n,{classList:a}}))}},{key:"findNextClass",value:function(e,t){return t<e.length-1?t:t>0?t-1:0}},{key:"handleTabClick",value:function(e,t){"component-delete-class-btn"!==e.target.className&&this.setActiveIndex(t)}},{key:"setActiveIndex",value:function(e){this.setState((function(t){return{currClass:t.classList.map((function(e){return e.id})).indexOf(e)}}))}},{key:"calcSectionGrade",value:function(e){var t=0,a=0;return e.forEach((function(n){n.weight=1/e.length,""!==n.score&&(t+=n.weight*n.score,a+=n.weight)})),0===a?100:t/=a}},{key:"addGrade",value:function(e){this.setState((function(t){var a=Object(d.a)(t.classList);return a[t.currClass].sectionList.map((function(t){if(t.id!==e)return t;var a=t.gradeKey;return t.gradeList.push({id:a,name:"",weight:"",score:""}),t.gradeKey++,t})),{classList:a}}))}},{key:"deleteGrade",value:function(e,t){var a=this;this.setState((function(n){var s=Object(d.a)(n.classList);s[n.currClass].sectionList.map((function(n){return n.id!==e||(n.gradeList=n.gradeList.filter((function(e){return e.id!==t})),n.sectionGrade=a.calcSectionGrade(n.gradeList)),n}));var c=0;return s[n.currClass].sectionList.forEach((function(e){return c+=e.sectionWeight*e.sectionGrade/100})),s[n.currClass].classGrade=c,{classList:s}}))}},{key:"handleChange",value:function(e,t,a){var n=this,s=e.target,c=s.name,i=s.value;"className"===c?this.setState((function(e){var t=e.currClass,a=e.classList;return a[t].name=i,{classList:a}})):"sectionName"===c||"sectionWeight"===c?this.setState((function(e){var a=e.currClass,n=e.classList,s=0;return n[a].sectionList.map((function(e){return e.id!==t?(s+=e.sectionWeight*e.sectionGrade/100,e):(e[c]=i,s+=e.sectionWeight*e.sectionGrade/100,e)})),n[a].classGrade=s,{classList:n}})):this.setState((function(e){var s=e.classList,r=e.currClass,d=0;return s[r].sectionList=s[r].sectionList.map((function(e){return e.id!==t?(d+=e.sectionWeight*e.sectionGrade/100,e):(e.gradeList=e.gradeList.map((function(e){return e.id!==a?e:Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},c,i))})),e.sectionGrade=n.calcSectionGrade(e.gradeList),d+=e.sectionWeight*e.sectionGrade/100,e)})),s[r].classGrade=d,{classList:s}}))}},{key:"updateSectionList",value:function(e,t){var a=this;this.setState((function(n){var s=Object(d.a)(n.classList);return s[a.getClassIndex(e)].sectionList=t,{classList:s}}))}},{key:"onDragEnd",value:function(e){if(e.destination&&e.destination.index!==e.source.index){var t=this.reorder(this.state.classList,e.source.index,e.destination.index);this.setState({classList:t}),this.setActiveIndex(parseInt(e.draggableId))}}},{key:"reorder",value:function(e,t,a){var n=e.splice(t,1),s=Object(r.a)(n,1)[0];return e.splice(a,0,s),e}},{key:"getClassIndex",value:function(e){for(var t=this.state.classList,a=0;a<t.length;a++)if(t[a].id===e)return a;return-1}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(v.a,{onDragEnd:this.onDragEnd},s.a.createElement(v.c,{droppableId:"0",direction:"horizontal"},(function(t){return s.a.createElement("div",Object.assign({className:"component-flex-container",ref:t.innerRef},t.droppableProps),e.state.classList.map((function(t,a){var n=t.name;return""===n&&(n="New class"),s.a.createElement(S,{key:t.id,id:t.id,index:a,name:n,grade:t.classGrade,className:e.state.classList[e.state.currClass].id===t.id?"component-class-tab active-tab":"component-class-tab",handleTabClick:e.handleTabClick,deleteClass:e.deleteClass})})),t.placeholder,s.a.createElement("button",{className:"component-add-class-btn",onClick:e.addClass},"+"))}))),0!==this.state.classList.length?s.a.createElement(L,{data:this.state.classList[this.state.currClass],addSection:this.addSection,deleteSection:this.deleteSection,addGrade:this.addGrade,deleteGrade:this.deleteGrade,handleChange:this.handleChange,updateSectionList:this.updateSectionList,reorder:this.reorder}):s.a.createElement("h4",null,'Click the "+" to add a class!'))}}]),a}(s.a.Component);a(38);function G(e){return s.a.createElement("div",{className:"app-container"},s.a.createElement("h2",null,"Grade Manager"),s.a.createElement(y,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.9b92403f.chunk.js.map